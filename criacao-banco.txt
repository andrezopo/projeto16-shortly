CREATE TABLE users (
id SERIAL PRIMARY KEY NOT NULL,
name VARCHAR(50) NOT NULL,
email VARCHAR(60) NOT NULL UNIQUE,
password TEXT NOT NULL,
"visitCount" INTEGER NOT NULL DEFAULT 0,
"createdAt" TIMESTAMP NOT NULL DEFAULT NOW()
);

CREATE TABLE sessions (
id SERIAL PRIMARY KEY NOT NULL,
"userId" INTEGER NOT NULL REFERENCES users(id),
token TEXT NOT NULL UNIQUE,
"updatedAt" BIGINT NOT NULL DEFAULT extract(epoch from now()),
"createdAt" TIMESTAMP NOT NULL DEFAULT NOW()
);

CREATE TABLE "shortenedUrls" (
id SERIAL PRIMARY KEY NOT NULL,
"userId" INTEGER NOT NULL REFERENCES users(id),
"shortUrl" TEXT NOT NULL UNIQUE,
url TEXT NOT NULL,
"visitCount" INTEGER NOT NULL DEFAULT 0,
"createdAt" TIMESTAMP NOT NULL DEFAULT NOW()
);
